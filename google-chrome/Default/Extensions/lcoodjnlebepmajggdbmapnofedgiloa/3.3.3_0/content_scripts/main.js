/*! For license information please see main.js.LICENSE.txt */
(()=>{var e={61:(e,t,n)=>{var o=n(698).default;function r(){"use strict";e.exports=r=function(){return t},e.exports.__esModule=!0,e.exports.default=e.exports;var t={},n=Object.prototype,i=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},l="function"==typeof Symbol?Symbol:{},s=l.iterator||"@@iterator",c=l.asyncIterator||"@@asyncIterator",u=l.toStringTag||"@@toStringTag";function d(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{d({},"")}catch(e){d=function(e,t,n){return e[t]=n}}function h(e,t,n,o){var r=t&&t.prototype instanceof f?t:f,i=Object.create(r.prototype),l=new L(o||[]);return a(i,"_invoke",{value:k(e,n,l)}),i}function p(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=h;var v={};function f(){}function m(){}function y(){}var g={};d(g,s,(function(){return this}));var w=Object.getPrototypeOf,b=w&&w(w(T([])));b&&b!==n&&i.call(b,s)&&(g=b);var _=y.prototype=f.prototype=Object.create(g);function E(e){["next","throw","return"].forEach((function(t){d(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function n(r,a,l,s){var c=p(e[r],e,a);if("throw"!==c.type){var u=c.arg,d=u.value;return d&&"object"==o(d)&&i.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,l,s)}),(function(e){n("throw",e,l,s)})):t.resolve(d).then((function(e){u.value=e,l(u)}),(function(e){return n("throw",e,l,s)}))}s(c.arg)}var r;a(this,"_invoke",{value:function(e,o){function i(){return new t((function(t,r){n(e,o,t,r)}))}return r=r?r.then(i,i):i()}})}function k(e,t,n){var o="suspendedStart";return function(r,i){if("executing"===o)throw new Error("Generator is already running");if("completed"===o){if("throw"===r)throw i;return{value:void 0,done:!0}}for(n.method=r,n.arg=i;;){var a=n.delegate;if(a){var l=S(a,n);if(l){if(l===v)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===o)throw o="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o="executing";var s=p(e,t,n);if("normal"===s.type){if(o=n.done?"completed":"suspendedYield",s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(o="completed",n.method="throw",n.arg=s.arg)}}}function S(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,S(e,t),"throw"===t.method))return v;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var o=p(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,v;var r=o.arg;return r?r.done?(t[e.resultName]=r.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,v):r:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,v)}function A(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(A,this),this.reset(!0)}function T(e){if(e){var t=e[s];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(i.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:C}}function C(){return{value:void 0,done:!0}}return m.prototype=y,a(_,"constructor",{value:y,configurable:!0}),a(y,"constructor",{value:m,configurable:!0}),m.displayName=d(y,u,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,d(e,u,"GeneratorFunction")),e.prototype=Object.create(_),e},t.awrap=function(e){return{__await:e}},E(x.prototype),d(x.prototype,c,(function(){return this})),t.AsyncIterator=x,t.async=function(e,n,o,r,i){void 0===i&&(i=Promise);var a=new x(h(e,n,o,r),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},E(_),d(_,u,"Generator"),d(_,s,(function(){return this})),d(_,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var o in t)n.push(o);return n.reverse(),function e(){for(;n.length;){var o=n.pop();if(o in t)return e.value=o,e.done=!1,e}return e.done=!0,e}},t.values=T,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!e)for(var t in this)"t"===t.charAt(0)&&i.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(n,o){return a.type="throw",a.arg=e,t.next=n,o&&(t.method="next",t.arg=void 0),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var r=this.tryEntries[o],a=r.completion;if("root"===r.tryLoc)return n("end");if(r.tryLoc<=this.prev){var l=i.call(r,"catchLoc"),s=i.call(r,"finallyLoc");if(l&&s){if(this.prev<r.catchLoc)return n(r.catchLoc,!0);if(this.prev<r.finallyLoc)return n(r.finallyLoc)}else if(l){if(this.prev<r.catchLoc)return n(r.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return n(r.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&i.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var r=o;break}}r&&("break"===e||"continue"===e)&&r.tryLoc<=t&&t<=r.finallyLoc&&(r=null);var a=r?r.completion:{};return a.type=e,a.arg=t,r?(this.method="next",this.next=r.finallyLoc,v):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),O(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var o=n.completion;if("throw"===o.type){var r=o.arg;O(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:T(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),v}},t}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports},698:e=>{function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},687:(e,t,n)=>{var o=n(61)();e.exports=o;try{regeneratorRuntime=o}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=o:Function("r","regeneratorRuntime = r")(o)}}},t={};function n(o){var r=t[o];if(void 0!==r)return r.exports;var i=t[o]={exports:{}};return e[o](i,i.exports,n),i.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var o={};(()=>{"use strict";function e(e,t,n,o,r,i,a){try{var l=e[i](a),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(o,r)}function t(t){return function(){var n=this,o=arguments;return new Promise((function(r,i){var a=t.apply(n,o);function l(t){e(a,r,i,l,s,"next",t)}function s(t){e(a,r,i,l,s,"throw",t)}l(void 0)}))}}n.r(o);var r=n(687),i=n.n(r);function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,r,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(o=n.next()).done)&&(i.push(o.value),!t||i.length!==t);a=!0);}catch(e){l=!0,r=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw r}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function u(e,t,n){return t&&c(e.prototype,t),n&&c(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var d=function(){function e(){s(this,e),this._querySelectorEngine=window._AQAExt_.u$}return u(e,[{key:"getQuerySelector",value:function(t){try{if(document.querySelector(t)instanceof HTMLElement)return t}catch(e){}var n=l(this._querySelectorEngine(t),1)[0];return e.elemToSelector(n)}}],[{key:"element",value:function(e){window.inspect(e)}},{key:"elemToSelector",value:function(t){var n=t.tagName,o=t.id,r=t.parentElement,i=t.classList.value.trim(),a="";return""!==o&&/^[a-z].*/.exec(o)?a+"#".concat(o):(a=n.toLowerCase(),i&&(a+=".".concat(i.replace(/(^\s)/gm,"").replace(/(\s{2,})/gm," ").split(/\s/).join("."))),function(e){var t=e.previousElementSibling;if(!e.className)return!0;for(;t;){if(e.className!==t.className)return!1;t=t.previousElementSibling}return!1}(t)&&(a+=function(e){for(var t=1,n=e.previousElementSibling;n;)t+=1,n=n.previousElementSibling;return":nth-child(".concat(t,")")}(t)),r?"".concat(e.elemToSelector(r)," > ").concat(a):a)}}]),e}();var h=[[252,253,191],[254,159,109],[222,73,104],[140,41,129],[59,15,112]],p=new(function(){function e(){s(this,e),this.intervalInstance=null,this.timeoutInstance=null,this.intervalTime=1e3,this.handlers=[],this.currentSelectors={},this.isFaded=!1,this.overlayShadowContent=null,this.overlayShadowHost=null,this._querySelectorEngine=window._AQAExt_.u$,this.overlayShadowHostId="un-heatmap-host",this.fadeListeners=["scroll"],this.unfadeListeners=["scrollend"],this.hmNodes=[];var t,n=document.getElementById(this.overlayShadowHostId);n&&(null===(t=n.parentElement)||void 0===t||t.removeChild(n))}return u(e,[{key:"recalcPosition",value:function(){this.hmNodes.forEach((function(e){var t,n=e.htmlRef.getBoundingClientRect();n.x+n.width>0&&n.y+n.height>0&&n.x<window.innerWidth&&n.y<window.innerHeight?e.observer.observe(e.htmlRef):(null===(t=e.marker.parentNode)||void 0===t||t.removeChild(e.marker),e.marker.style.display="none")}))}},{key:"fadeHeatmap",value:function(e){e.isTrusted&&(this.isFaded=!0,this.timeoutInstance&&clearTimeout(this.timeoutInstance),this.overlayShadowContent&&(this.overlayShadowContent.classList.contains("fade")||this.overlayShadowContent.classList.add("fade")))}},{key:"unfadeHeatmap",value:function(e){var t=this;e.isTrusted&&this.isFaded&&(this.timeoutInstance=setTimeout((function(){t.overlayShadowContent&&t.overlayShadowContent.classList.contains("fade")&&(t.recalcPosition(),t.overlayShadowContent.classList.remove("fade")),t.isFaded=!1}),300))}},{key:"bindEventListeners",value:function(e){var t=this,n=this.fadeHeatmap.bind(this),o=this.unfadeHeatmap.bind(this),r=null!=e?e:document;e||(window.addEventListener("resize",o,{capture:!0,passive:!0}),this.handlers.push({event:"resize",handler:o,root:window})),this.fadeListeners.forEach((function(e){r.addEventListener(e,n,{capture:!0,passive:!0}),t.handlers.push({event:e,handler:n,root:r})})),this.unfadeListeners.forEach((function(e){r.addEventListener(e,o,{capture:!0,passive:!0}),t.handlers.push({event:e,handler:o,root:r})}))}},{key:"unbindEventListeners",value:function(){this.handlers.forEach((function(e){e.root.removeEventListener(e.event,e.handler,!0)})),this.handlers.length=0}},{key:"enable",value:function(t){var n=this;if(JSON.stringify(this.currentSelectors)!==JSON.stringify(t.occurrencesBySelector)){this.currentSelectors=t.occurrencesBySelector;var o=document.createElement("div"),r=document.createElement("div");if(this.overlayShadowHost&&this.overlayShadowContent)this.reset(),r=this.overlayShadowHost,o=this.overlayShadowContent;else{var i;this.overlayShadowHost=r,this.overlayShadowContent=o,r.attachShadow({mode:"open"}),null===(i=r.shadowRoot)||void 0===i||i.appendChild(o),r.setAttribute("id",this.overlayShadowHostId),r.setAttribute("style","z-index:2147483647; pointer-events: none; position: fixed; top: 0; left: 0; width: 100vw; height: 100vh;");var a=t.styles.overlay.background;o.setAttribute("id","un-heatmap"),o.setAttribute("style","z-index:2147483647; pointer-events: none; position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; ".concat(a?"background:".concat(a):"",";")),document.body.appendChild(r);var s=document.createElement("style");s.appendChild(document.createTextNode("#reveal-aqa-mask-table{display: none !important;}")),r.appendChild(s)}var c=document.createElement("style");c.appendChild(document.createTextNode("#un-heatmap .un-heatmap-marker{opacity: 1; transition: opacity 1ms;} #un-heatmap.fade .un-heatmap-marker{ opacity: 0;}")),o.appendChild(c),o.appendChild(e.createHeatmapLegend()),Object.entries(this.currentSelectors).forEach((function(r){var i=l(r,2),a=i[0],s=i[1];try{var c=l(n._querySelectorEngine(a),1)[0];if(c){var u=document.createElement("div");u.classList.add("un-heatmap-marker"),e.setMarkerPosition(c,u,t.styles.occurrences[s-1]);var d=new IntersectionObserver((function(t){var o,r,i=l(t,1)[0];i&&(e.isVisible(i.intersectionRect)?(u.style.display="block",u.style.height="".concat(i.intersectionRect.height,"px"),u.style.width="".concat(i.intersectionRect.width,"px"),u.style.top="".concat(i.intersectionRect.top,"px"),u.style.left="".concat(i.intersectionRect.left,"px"),null===(o=n.overlayShadowContent)||void 0===o||o.appendChild(u)):(null===(r=u.parentNode)||void 0===r||r.removeChild(u),u.style.display="none")),d.unobserve(c)}),{root:null,rootMargin:"0px"}),h=c.getRootNode(),p=!(h instanceof Document);p&&n.bindEventListeners(h),d.observe(c);var v={htmlRef:c,marker:u,isVisible:!0,observer:d,isShadowRoot:p};n.hmNodes.push(v),o.appendChild(u)}}catch(e){console.log("error getting",a,e)}})),this.bindEventListeners(),this.intervalInstance&&clearInterval(this.intervalInstance),this.intervalInstance=setInterval((function(){n.isFaded||n.recalcPosition()}),this.intervalTime)}}},{key:"reset",value:function(){this.intervalInstance&&clearInterval(this.intervalInstance),this.unbindEventListeners(),this.hmNodes.length=0,this.handlers.length=0,this.overlayShadowContent&&(this.overlayShadowContent.innerHTML="")}},{key:"disable",value:function(){var e;this.reset(),this.overlayShadowHost&&(null===(e=this.overlayShadowHost.parentElement)||void 0===e||e.removeChild(this.overlayShadowHost),this.overlayShadowHost=null,this.overlayShadowContent=null,this.currentSelectors={})}}],[{key:"isVisible",value:function(e){var t=e.height,n=e.width;return t>0&&n>0}},{key:"setMarkerPosition",value:function(t,n,o){var r=t.getBoundingClientRect(),i=r.top,a=r.left,l=r.height,s=r.width;e.isVisible(r)?n.setAttribute("style","display:block; position:absolute; width:".concat(s,"px; height:").concat(l,"px; top: ").concat(i,"px; left: ").concat(a,"px; ").concat(o.background?"background:".concat(o.background,";"):"")):n.setAttribute("style","display: none;")}},{key:"createHeatmapLegend",value:function(){var e=document.createElement("style");e.appendChild(document.createTextNode('#un-heatmap-legend {\n          position: fixed;\n          width: 100vw;\n          bottom: 0;\n          background: rgba(0,0,0,0.8);\n          z-index: 999999;\n          padding:5px 10px 0 10px;\n          box-sizing: border-box;\n        }\n        #un-heatmap-legend:hover{display: none;}\n        #un-heatmap-legend-box {\n          display: flex;\n          flex-grow: 1;\n        }\n        #un-heatmap-legend-chart {\n          height: 6px;\n        }\n\n        #un-heatmap-legend-label{\n          color: #FFF;\n          margin-right: 10px;\n        }\n\n        #un-heatmap-legend-content{\n          flex-grow: 1;\n        }\n\n        #un-heatmap-legend-ticks {\n          display: flex;\n          flex-direction: row;\n          justify-content: space-between;\n          color: #FFF !important;\n        }\n        .un-font-style{\n          font-family: -apple-system, system-ui, BlinkMacSystemFont, "Segoe UI", Roboto, Ubuntu, sans-serif;\n          font-size: 12px;\n          font-weight: normal;\n        }\n        '));var t="";h.forEach((function(e,n){t+='<div class="un-font-style">'.concat(n===h.length-1?"".concat(n+1,"+"):n+1,"</div>")}));var n=document.createElement("div");n.setAttribute("id","un-heatmap-legend"),n.setAttribute("aria-hidden","true");var o="linear-gradient(to right, ".concat(h.map((function(e){return"rgba(".concat(e[0],", ").concat(e[1],", ").concat(e[2],", 1)")})).join(", "),")");return n.innerHTML='\n      <div id="un-heatmap-legend-box" aria-hidden>\n        <div id="un-heatmap-legend-label" class="un-font-style">Issues</div>\n        <div id="un-heatmap-legend-content">\n          <div id="un-heatmap-legend-chart" style="background: '.concat(o,'"></div>\n          <div id="un-heatmap-legend-ticks">').concat(t,"</div>\n        </div>\n      </div>\n      "),n.appendChild(e),n}}]),e}());function v(e){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v(e)}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e,t){return y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},y(e,t)}function g(e,t){if(t&&("object"===v(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return m(e)}function w(e){return w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},w(e)}function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const E=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&y(e,t)}(r,e);var t,n,o=(t=r,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,o=w(t);if(n){var r=w(this).constructor;e=Reflect.construct(o,arguments,r)}else e=o.apply(this,arguments);return g(this,e)});function r(){var e;return s(this,r),(e=o.call(this)).pickerTimer=null,e._allElementsData={auto:[],manual:[]},e._pickedElementData={elementIssues:{totAuto:0,totManual:0},childrenIssues:{totAuto:0,totManual:0},ownedElements:[],selector:""},e._sender=window,e._mouseOver=e._mouseOver.bind(m(e)),e._removeTooltip=e._removeTooltip.bind(m(e)),e._mouseOut=e._mouseOut.bind(m(e)),e._mouseClick=e._mouseClick.bind(m(e)),e}return u(r,[{key:"setup",value:function(e){var t=this;this._allElementsData.auto.length||this._allElementsData.manual.length||this._setAllElementsData(e),this._removeTooltip(),r._removeHighlight(),r._addStyle(),this._addTooltip(),document.addEventListener("mouseover",this._mouseOver,!0),document.addEventListener("mouseout",this._mouseOut,!0),document.addEventListener("click",this._mouseClick,{passive:!1});var n=window._AQAExt_.Analyzer.shadowRoots();n.length&&n.forEach((function(e){e.addEventListener("mouseover",t._mouseOver,!0),e.addEventListener("mouseout",t._mouseOut,!0),e.addEventListener("click",t._mouseClick,{passive:!1})}))}},{key:"get",value:function(e){this._removeTooltip();var t=l(this._querySelectorEngine(e),1)[0];this._pickedElementData=_(_({},this._elementsOwnedBy(t)),{},{selector:r._selector(t)});var n={source:"aqa-extension",action:"get",selector:this._pickedElementData.selector,notesSelectors:this._pickedElementData.ownedElements};chrome.runtime.sendMessage(n)}},{key:"update",value:function(e){this._setAllElementsData(e,!0);var t=l(this._querySelectorEngine(this._pickedElementData.selector),1)[0];r._removeHighlight(),this._showPickerInfo(null,t)}},{key:"show",value:function(e){this.pickerTimer&&clearTimeout(this.pickerTimer);var t=l(this._querySelectorEngine(e),1)[0],n=t.getBoundingClientRect(),o={x:n.left,y:n.top};this._pickedElementData=_(_({},this._elementsOwnedBy(t)),{},{selector:r._selector(t)}),this._pickedElementData.selector=r._selector(t),this.overlayElement(t),this._addTooltip(o,this._pickedElementData,!0),this.pickerTimer=setTimeout(this._removeTooltip,1e4)}},{key:"destroy",value:function(e){var t=this;r._removeStyle(),this._removeTooltip(),e&&(this._allElementsData={auto:[],manual:[]},this._pickedElementData={elementIssues:{totAuto:0,totManual:0},childrenIssues:{totAuto:0,totManual:0},ownedElements:[],selector:""}),document.removeEventListener("mouseover",this._mouseOver,!0),document.removeEventListener("mouseout",this._mouseOut,!0),document.removeEventListener("click",this._mouseClick);var n=window._AQAExt_.Analyzer.shadowRoots();n.length&&n.forEach((function(e){e.removeEventListener("mouseover",t._mouseOver,!0),e.removeEventListener("mouseout",t._mouseOut,!0),e.removeEventListener("click",t._mouseClick)}))}},{key:"_addHighlight",value:function(e){this.overlayElement(e,{hasScrolling:!1,hasTimeout:!1,hasInteraction:!1})}},{key:"_removeTooltip",value:function(){var e=document.getElementById("aqapickertooltip");null!=e&&e.parentNode&&e.parentNode.removeChild(e),document.body.removeEventListener("mousedown",this._removeTooltip),document.body.removeEventListener("wheel",this._removeTooltip)}},{key:"_addTooltip",value:function(e,t,n){var o=document.getElementById("aqapickertooltip");if(o||((o=document.createElement("div")).id="aqapickertooltip",o.style.display="block",o.style.position="fixed",o.style.overflow="hidden",o.style.pointerEvents="none",o.style.backgroundColor="#ffffff",o.style.color="#585858",o.style.padding="4px",o.style.borderRadius="4px",o.style.boxShadow="0 0 3px #00000033",o.style.zIndex="".concat(100000001),o.style.fontSize="14px",o.style.fontFamily="sans-serif",o.style.letterSpacing="initial",o.style.fontWeight="initial",o.style.lineHeight="16px",document.body.appendChild(o)),t){var r='<b style="color: #111111;">'.concat(t.selector,"</b>");0===t.elementIssues.totAuto&&0===t.elementIssues.totManual?r+='<div style="margin-top: 4px;">Element: 0</div>':r+='<div style="margin-top: 4px;">Element: need fix ('.concat(t.elementIssues.totAuto,"), need manual review (").concat(t.elementIssues.totManual,")</div>"),0===t.childrenIssues.totAuto&&0===t.childrenIssues.totManual||(r+='<div style="margin-top: 4px;">Descendants: need fix ('.concat(t.childrenIssues.totAuto,"), need manual review (").concat(t.childrenIssues.totManual,")</div>")),o.innerHTML=r}if(e){var i=e.x<0?0:e.x,a=e.y<0?0:e.y;i+o.offsetWidth+20>window.innerWidth?(o.style.left="",o.style.right="".concat(40,"px")):(o.style.left="".concat(i+20,"px"),o.style.right=""),a+o.offsetHeight+20>window.innerHeight?(o.style.top="",o.style.bottom="".concat(40,"px")):(o.style.top="".concat(a+20,"px"),o.style.bottom="")}n&&(document.body.addEventListener("mousedown",this._removeTooltip),document.body.addEventListener("wheel",this._removeTooltip))}},{key:"_elementsOwnedBy",value:function(e){var t=[],n={totAuto:0,totManual:0},o={totAuto:0,totManual:0};return this._allElementsData.auto.forEach((function(r){e===r.element?(t.push(r.selector),n.totAuto+=1):e.contains(r.element)&&(t.push(r.selector),o.totAuto+=1)})),this._allElementsData.manual.forEach((function(r){e===r.element?(t.push(r.selector),n.totManual+=1):e.contains(r.element)&&(t.push(r.selector),o.totManual+=1)})),{elementIssues:n,childrenIssues:o,ownedElements:t}}},{key:"_showPickerInfo",value:function(e,t){this._pickedElementData=_(_({},this._elementsOwnedBy(t)),{},{selector:r._selector(t)}),this._addHighlight(t),this._addTooltip(e,this._pickedElementData)}},{key:"_mouseOver",value:function(e){if(e.isTrusted){var t={x:e.clientX,y:e.clientY},n=e.target;n instanceof HTMLElement&&this._showPickerInfo(t,n)}}},{key:"_mouseOut",value:function(e){e.isTrusted&&(r._removeHighlight(),this._removeTooltip())}},{key:"_mouseClick",value:function(e){if(e.isTrusted){e.preventDefault(),e.stopPropagation();var t={source:"aqa-extension",action:"picker",selector:this._pickedElementData.selector,notesSelectors:this._pickedElementData.ownedElements};chrome.runtime.sendMessage(t),this.destroy()}}},{key:"_setAllElementsData",value:function(e,t){var n=this,o=function(e){return e.map((function(e){return{selector:e,element:l(n._querySelectorEngine(e),1)[0]}}))};this._allElementsData={auto:t?[]:o(e.auto),manual:t?[]:o(e.manual)}}}],[{key:"_selector",value:function(e){var t=window._AQAExt_.Selector.build(e);return"string"==typeof t?t:t.context&&"shadowRoot"===t.context.type?":shadowRootId(".concat(t.context.id,") ").concat(t.path):t.path?t.path:""}},{key:"_addStyle",value:function(){var e=document.getElementById("aqapickerstyle");e||((e=document.createElement("style")).id="aqapickerstyle",document.getElementsByTagName("head")[0].appendChild(e)),e.appendChild(document.createTextNode("\n        * {\n          cursor: crosshair !important;\n        }\n        svg > * {\n          pointer-events: none;\n        }\n      "))}},{key:"_removeStyle",value:function(){var e=document.getElementById("aqapickerstyle");null!=e&&e.parentNode&&e.parentNode.removeChild(e)}},{key:"_removeHighlight",value:function(){var e=document.querySelector("#highlight-aqa-overlay");null!=e&&e.parentNode&&e.parentNode.removeChild(e)}}]),r}(function(){function e(){var t=this;s(this,e),this._elementDescriptor=window._AQAExt_.Analyzer.describeElement,this._querySelectorEngine=window._AQAExt_.u$,this.timer=null,this.removeOverlay=function(){e._removeOverlay(),t.timer&&clearTimeout(t.timer)}}return u(e,[{key:"selector",value:function(e){var t=l(this._querySelectorEngine(e),1)[0];this._addOverlay(t)}},{key:"tagU$Element",value:function(e){var t=l(this._querySelectorEngine(e),1)[0];t&&t.setAttribute("data-unid","target")}},{key:"untagU$Element",value:function(e){var t=l(this._querySelectorEngine(e),1)[0];t&&t.removeAttribute("data-unid")}},{key:"index",value:function(e){var t=this._querySelectorEngine("*")[e];this._addOverlay(t)}},{key:"overlayElement",value:function(e,t){this._addOverlay(e,t)}},{key:"_addOverlay",value:function(t){var n,o,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.hasScrolling,a=void 0===i||i,l=r.hasTimeout,s=void 0===l||l,c=r.hasInteraction,u=void 0===c||c;this.removeOverlay(),window.parent!==window&&document.body.scrollIntoView({behavior:"smooth"}),a&&window._AQAExt_.Analyzer.scrollToElm(t);var d={top:0,left:0},h=window.getComputedStyle(document.body),p=this._elementDescriptor(t),v=null!==(n=null!==(o=null==p?void 0:p.visibleRect)&&void 0!==o?o:null==p?void 0:p.rect)&&void 0!==n?n:t.getBoundingClientRect(),f=null==p?void 0:p.isFixed,m={top:0,left:0},y=document.createElement("div");!f&&p?(m.top=p.pageScroll.top,m.left=p.pageScroll.left,y.style.position="absolute"):y.style.position="fixed","relative"===h.position&&(d.top+=parseFloat(h.top)||0,d.top+=parseFloat(h.marginTop)||0,d.left+=parseFloat(h.left)||0,d.left+=parseFloat(h.marginLeft)||0),m.top+=-1*d.top,m.left+=-1*d.left,y.style.backgroundColor="#40E0D0",y.style.opacity="0.5",y.style.top="".concat(v.top+m.top,"px"),y.style.left="".concat(v.left+m.left,"px"),y.style.width="".concat(v.width,"px"),y.style.height="".concat(v.height,"px"),y.style.zIndex="".concat(1e8),y.style.pointerEvents="none",y.id="highlight-aqa-overlay",document.body.appendChild(y),s&&(this.timer=setTimeout((function(){e._removeOverlay()}),1e4)),document.body.removeEventListener("mousedown",e._removeOverlay),document.body.removeEventListener("wheel",e._removeOverlay),u&&(document.body.addEventListener("mousedown",e._removeOverlay),document.body.addEventListener("wheel",e._removeOverlay))}}],[{key:"_removeOverlay",value:function(){var e=document.querySelector("#highlight-aqa-overlay");null!=e&&e.parentNode&&e.parentNode.removeChild(e)}}]),e}());var x=function(){function e(){s(this,e),this.timer=null,this._elementDescriptor=window._AQAExt_.Analyzer.describeElement,this._querySelectorEngine=window._AQAExt_.u$,this._suffixID="reveal-aqa-mask-",this._removeMask=this._removeMask.bind(this)}return u(e,[{key:"selector",value:function(e){var t=l(this._querySelectorEngine(e),1)[0];this._addMask(t)}},{key:"remove",value:function(){this._removeMask(),this.timer&&clearTimeout(this.timer)}},{key:"_removeMask",value:function(){var e=document.querySelector("#".concat(this._suffixID,"table"));null!=e&&e.parentNode&&e.parentNode.removeChild(e)}},{key:"_addMask",value:function(e){var t,n,o=this;this.remove();var r=this._elementDescriptor(e),i={top:0,left:0},a=window.getComputedStyle(document.body),l=null!==(t=null!==(n=r.visibleRect)&&void 0!==n?n:r.rect)&&void 0!==t?t:e.getBoundingClientRect(),s={top:0,left:0},c="fixed";!r.isFixed&&r&&(s.top=r.pageScroll.top,s.left=r.pageScroll.left,c="absolute"),"relative"===a.position&&(i.top+=parseFloat(a.top)||0,i.top+=parseFloat(a.marginTop)||0,i.left+=parseFloat(a.left)||0,i.left+=parseFloat(a.marginLeft)||0),s.top+=-1*i.top,s.left+=-1*i.left;var u=document.getElementById("aqarevealstyle"),d="\n        #reveal-aqa-mask-table {\n          border-collapse: collapse;\n          border: 0;\n          margin: 0;\n          padding: 0;\n          width: 100%;\n          top: 0;\n          right: 0;\n          bottom: 0;\n          left: 0;\n          z-index: ".concat(100000002,";\n          background: transparent;\n          pointer-events:none;\n        }\n        #reveal-aqa-mask-table tbody,\n        #reveal-aqa-mask-table tr {\n          background: transparent;\n        }\n        #reveal-aqa-mask-table td {\n          background: white;\n          opacity: .6;\n          border-spacing: 0;\n          border: 0;\n          margin: 0;\n          padding: 0;\n          backdrop-filter: blur(10px);\n        }\n        #reveal-aqa-mask-table #central {\n          opacity: 1;\n          background: transparent;\n          backdrop-filter: none;\n        }\n      ");u||((u=document.createElement("style")).id="aqarevealstyle",document.getElementsByTagName("head")[0].appendChild(u),u.appendChild(document.createTextNode(d)));var h=document.createElement("table"),p=h.insertRow(),v=p.insertCell();v.id="left",v.style.width="".concat(l.left,"px"),v.setAttribute("rowspan","3");var f=p.insertCell();f.id="top",f.style.height="".concat(l.top+s.top>0?l.top+s.top:1,"px"),p.insertCell().setAttribute("rowspan","3");var m=h.insertRow().insertCell();m.id="central",m.style.width="".concat(l.width,"px"),m.style.height="".concat(l.height,"px"),h.insertRow().insertCell(),h.id="".concat(this._suffixID,"table"),h.style.position=c,h.style.marginTop="".concat(l.top+s.top>0?0:-1,"px"),h.style.height="".concat(document.documentElement.scrollHeight,"px"),document.body.appendChild(h),this.timer=setTimeout((function(){o._removeMask()}),1e4)}}]),e}();var k,S;(function(){function e(){return(e=t(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0!==window._AQA_&&null!==window._AQA_||(window._AQA_={}),e.next=3,window._AQAExt_.Analyzer.snapshot();case 3:if(e.t0=e.sent,e.t0){e.next=6;break}e.t0="";case 6:return window._AQA_.Snapshot=e.t0,e.abrupt("return",window._AQA_.Snapshot.toString());case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var n=new d;chrome.runtime.onMessage.addListener((function(t,o,r){return"has-frameset"===t.action&&r(document.querySelectorAll("frameset, frame").length>0),"get-frames"===t.action&&r((void 0!==window._AQA_&&null!==window._AQA_||(window._AQA_={Frames:[]}),window._AQA_.Frames=[],document.querySelectorAll("frame").forEach((function(e){var t;null!==(t=window._AQA_)&&void 0!==t&&t.Frames&&window._AQA_.Frames.push(e.src)})),window._AQA_.Frames)),"get-snapshot"===t.action?(function(){return e.apply(this,arguments)}().then((function(e){r(e)})),!0):("get-pageurl"===t.action&&r(window.location.href),"get-doc-info"===t.action&&r({location:window.location.href,title:document.title}),"get-query-selector"===t.action&&t.selector&&r(n.getQuerySelector(t.selector)),null)}))})(),k=new x,S=new E,chrome.runtime.onMessage.addListener((function(e,t,n){var o,r;"highlight"===e.action&&e.selector&&(o=e.selector,k.remove(),S.show(o),n()),"select-element"===e.action&&e.selector&&(function(e){S.selector(e)}(e.selector),n()),"reveal-element"===e.action&&e.selector&&(function(e){k.selector(e)}(e.selector),n()),"setup-picker"===e.action&&e.notesSelectors&&(r=e.notesSelectors,S.destroy(),S.setup(r),n()),"get-element"===e.action&&e.selector&&(function(e){S.get(e)}(e.selector),n()),"remove-highlight"===e.action&&(k.remove(),E._removeHighlight(),n()),"destroy"===e.action&&(S.destroy(),n())})),window.addEventListener("message",(function(e){if(e.source===window){var t=e.data;if("object"===v(t)&&null!==t&&"aqa-extension"===t.source&&"clean-up"===t.action){var n,o=document.querySelector("#highlight-aqa-overlay");null!=o&&o.parentNode&&o.parentNode.removeChild(o),null!==(n=window._AQA_)&&void 0!==n&&n.Picker&&(S.destroy(!0),S=new E)}}})),function(){function e(){chrome.runtime.sendMessage({action:"resized-window",size:{width:window.outerWidth,height:window.outerHeight}})}window.addEventListener("resize",e),e()}(),chrome.runtime.onMessage.addListener((function(e,t,n){"enable-heatmap"===e.action?(p.enable(e.data),n()):"disable-heatmap"!==e.action&&"clean-up"!==e.action||(p.disable(),n())}))})();var r=window;for(var i in o)r[i]=o[i];o.__esModule&&Object.defineProperty(r,"__esModule",{value:!0})})();